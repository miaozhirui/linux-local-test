<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8"/>
<title>SeaJS 全局环境</title>
<link rel="stylesheet" href="../assets/style.css"/>
</head>
<body>

<div id="content">

  <h1>
    <a href="../">SeaJS <span class="byline">文档</span></a>
  </h1>

  <h2>全局环境</h2>

  <p>
    SeaJS 会给运行环境提供一个全局的 module 对象，包含以下属性和方法：
  </p>


  <h3>module.seajs</h3>

  <p>
    字符串，表示 seajs 的版本信息，比如 "1.0.0" .
  </p>


  <h3>module.declare</h3>

  <p>
    在 SeaJS 里，任何模块，都通过 module.declare 来定义。
  </p>

<pre>
module.declare(function(require, exports, module) {
  // The module code goes here
});
</pre>

  <p>
    require, exports, module 参数的含义，请参考：
    <a href="module-environment.html">模块环境</a>
  </p>


  <h3>module.prefix</h3>

  <p>当模块标识很长时，可以通过 prefix 来简写：</p>

<pre>
module
  .prefix('biz', 'path/to/biz')
  .declare(function(require, exports, module) {
    var a = require('biz/a');
    // 等价于：var a = require('path/to/biz/a');
});
</pre>

  <p>
    注意：prefix 定义的前缀，仅在与之近邻的 declare 内有效。
  </p>


  <h3>module.load</h3>

  <p>
    全局的 module.load, 推荐仅用于加载初始入口模块。
  </p>

<pre>
&lt;script src="seajs/module.js"&gt;&lt;/script&gt;
&lt;script&gt;
  module.load('path/to/init', function(init) {
    init.somethingA(/* 可从页面传入配置 */);
    init.somethingB(/* 可从页面传入配置 */);
  });
&lt;/script&gt;
</pre>

  <p>
    当无需采用上面的方式从页面中获取初始化配置时，建议将所有代码都抽离到 init.js 中：
  </p>

<pre>
&lt;script src="seajs/module.js"&gt;&lt;/script&gt;
&lt;script&gt;
  module.load('path/to/init');
&lt;/script&gt;
</pre>

  <p>还可进一步简化为：</p>

<pre>
&lt;script src="seajs/module.js" data-main="path/to/init" &gt;&lt;/script&gt;
</pre>

  
  <p class="next-page">
    下一节：<a href="module-identifier.html">模块标识</a>
  </p>


  <p class="copyright">
    &copy; 2011 - 2022 seajs.com
  </p>
</div>

</body>
</html>