$.fn.tree=function(a){var t=this;a=a||{};var n='<div class="table-header">                        <div class="table-header-name">Company Name</div>                        <div class="table-header-count">Patent Count</div>                        <div class="table-header-action">Action</div>                    </div>',i='<div class="row-content">                    <div class="main-row row">                    $${arrow}                    <div class="name"><a class="name-btn">${name}</a></div>                    <div class="num"><span>${num}</span></div>                    <div class="child" style="display: none"><span>${childNum}</span></div>                    <div class="add"><a class="btn-26 add-btn" data-id=${id}>${action}</a></div></div></div>',d='<div class="child-row row">                    $${arrow}                    <div class="name"><a class="name-btn">${name}</a></div>                    <div class="num"><span>${num}</span></div>                    <div class="child" style="display: none"><span>${childNum}</span></div>                    <div class="add"><a class="btn-26 add-btn" data-id=${id}>${action}</a></div></div>',e='<div class="arrow arrowUp"></div>',s='<div class="no-arrow"></div>',o=function(t,n){var o="company"==a.type?"select":"Add";if(!n)return console.log("no company found"),"no company found";if("main"==t){var c="";return $(n.company).each(function(a,t){var n=i,d=juicer(n,{name:t.name,num:t.patentNum,childNum:t.childCount,arrow:t.childCount&&t.childCount>0?e:s,id:t.id,action:o});d="<div>"+d+"</div>",c+=d}),c}if("child"==t){var c="";return $(n.company).each(function(a,t){var n=d,i=juicer(n,{name:t.name,num:t.patentNum,childNum:t.childCount,arrow:t.childCount&&t.childCount>0?e:s,id:t.id,action:o});i='<div class="child-section"><div class="row-content">'+i+"</div></div>",c+=i}),c}},c=function(){$("body").on("click",".name-btn",".arrow",function(a){var t=$(a.target).closest(".row").find(".arrow"),n=$(".add [data-id = "+$(a.target).closest(".row").find(".add-btn").data("id")+"]").closest(".row");n.closest(".row-content").next(".child-section").length<=0?r($(a.target).closest(".row").find(".add-btn").data("id")).done(function(i){var d=o("child",i.data);$(d).insertAfter(n.closest(".row-content")),$(a.target).closest(".row-content").siblings(".child-section").toggle(),t.toggleClass("arrowUp"),t.toggleClass("arrowDown")}):(t.toggleClass("arrowUp"),t.toggleClass("arrowDown"),$(a.target).closest(".row-content").siblings(".child-section").toggle())}),$("body").on("click",".add-btn",function(t){if("company"==a.type){var n={assigneeName:$(t.target).closest(".row").find(".name-btn").text(),subNum:$(t.target).closest(".row").find(".child span").text(),patentNum:$(t.target).closest(".row").find(".num span").text(),assigneeId:$(t.target).data("id")};a.callback(n)}else if(a.type="compare"){var n={competitorName:$(t.target).closest(".row").find(".name-btn").text(),patentNum:$(t.target).closest(".row").find(".num span").text(),competitorId:$(t.target).data("id"),subNum:$(t.target).closest(".row").find(".child span").text()};a.callback(n)}})},r=function(t){return $.ajax({type:"get",url:"http://127.0.0.1:3000/searchCompany/"+a.query+"/"+t})},l=o("main",a.data.data);return c(),$(t).empty(),$(t).append(n+l),$(t).show(),this};